{"ast":null,"code":"var knowledge = require('./knowledge');\n\nvar Interval = require('./interval');\n\nvar scales = {\n  aeolian: ['P1', 'M2', 'm3', 'P4', 'P5', 'm6', 'm7'],\n  blues: ['P1', 'm3', 'P4', 'd5', 'P5', 'm7'],\n  chromatic: ['P1', 'm2', 'M2', 'm3', 'M3', 'P4', 'A4', 'P5', 'm6', 'M6', 'm7', 'M7'],\n  dorian: ['P1', 'M2', 'm3', 'P4', 'P5', 'M6', 'm7'],\n  doubleharmonic: ['P1', 'm2', 'M3', 'P4', 'P5', 'm6', 'M7'],\n  harmonicminor: ['P1', 'M2', 'm3', 'P4', 'P5', 'm6', 'M7'],\n  ionian: ['P1', 'M2', 'M3', 'P4', 'P5', 'M6', 'M7'],\n  locrian: ['P1', 'm2', 'm3', 'P4', 'd5', 'm6', 'm7'],\n  lydian: ['P1', 'M2', 'M3', 'A4', 'P5', 'M6', 'M7'],\n  majorpentatonic: ['P1', 'M2', 'M3', 'P5', 'M6'],\n  melodicminor: ['P1', 'M2', 'm3', 'P4', 'P5', 'M6', 'M7'],\n  minorpentatonic: ['P1', 'm3', 'P4', 'P5', 'm7'],\n  mixolydian: ['P1', 'M2', 'M3', 'P4', 'P5', 'M6', 'm7'],\n  phrygian: ['P1', 'm2', 'm3', 'P4', 'P5', 'm6', 'm7'],\n  wholetone: ['P1', 'M2', 'M3', 'A4', 'A5', 'A6']\n}; // synonyms\n\nscales.harmonicchromatic = scales.chromatic;\nscales.minor = scales.aeolian;\nscales.major = scales.ionian;\nscales.flamenco = scales.doubleharmonic;\n\nfunction Scale(tonic, scale) {\n  if (!(this instanceof Scale)) return new Scale(tonic, scale);\n  var scaleName, i;\n\n  if (!('coord' in tonic)) {\n    throw new Error('Invalid Tonic');\n  }\n\n  if (typeof scale === 'string') {\n    scaleName = scale;\n    scale = scales[scale];\n    if (!scale) throw new Error('Invalid Scale');\n  } else {\n    for (i in scales) {\n      if (scales.hasOwnProperty(i)) {\n        if (scales[i].toString() === scale.toString()) {\n          scaleName = i;\n          break;\n        }\n      }\n    }\n  }\n\n  this.name = scaleName;\n  this.tonic = tonic;\n  this.scale = scale;\n}\n\nScale.prototype = {\n  notes: function () {\n    var notes = [];\n\n    for (var i = 0, length = this.scale.length; i < length; i++) {\n      notes.push(this.tonic.interval(this.scale[i]));\n    }\n\n    return notes;\n  },\n  simple: function () {\n    return this.notes().map(function (n) {\n      return n.toString(true);\n    });\n  },\n  type: function () {\n    var length = this.scale.length - 2;\n\n    if (length < 8) {\n      return ['di', 'tri', 'tetra', 'penta', 'hexa', 'hepta', 'octa'][length] + 'tonic';\n    }\n  },\n  get: function (i) {\n    i = typeof i === 'string' && i in knowledge.stepNumber ? knowledge.stepNumber[i] : i;\n    return this.tonic.interval(this.scale[i - 1]);\n  },\n  solfege: function (index, showOctaves) {\n    if (index) return this.get(index).solfege(this, showOctaves);\n    return this.notes().map(function (n) {\n      return n.solfege(this, showOctaves);\n    });\n  },\n  interval: function (interval) {\n    interval = typeof interval === 'string' ? Interval.toCoord(interval) : interval;\n    return new Scale(this.tonic.interval(interval), this.scale);\n  },\n  transpose: function (interval) {\n    var scale = this.interval(interval);\n    this.scale = scale.scale;\n    this.tonic = scale.tonic;\n    return this;\n  }\n};\nmodule.exports = Scale;","map":{"version":3,"names":["knowledge","require","Interval","scales","aeolian","blues","chromatic","dorian","doubleharmonic","harmonicminor","ionian","locrian","lydian","majorpentatonic","melodicminor","minorpentatonic","mixolydian","phrygian","wholetone","harmonicchromatic","minor","major","flamenco","Scale","tonic","scale","scaleName","i","Error","hasOwnProperty","toString","name","prototype","notes","length","push","interval","simple","map","n","type","get","stepNumber","solfege","index","showOctaves","toCoord","transpose","module","exports"],"sources":["/home/reyden-martin/Documents/Tech2/HUB/Sony CSL/SONY-CSL-PROJECT/node_modules/react-piano-roll/node_modules/teoria/lib/scale.js"],"sourcesContent":["var knowledge = require('./knowledge');\nvar Interval = require('./interval');\n\nvar scales = {\n  aeolian: ['P1', 'M2', 'm3', 'P4', 'P5', 'm6', 'm7'],\n  blues: ['P1', 'm3', 'P4', 'd5', 'P5', 'm7'],\n  chromatic: ['P1', 'm2', 'M2', 'm3', 'M3', 'P4', 'A4', 'P5', 'm6', 'M6', 'm7', 'M7'],\n  dorian: ['P1', 'M2', 'm3', 'P4', 'P5', 'M6', 'm7'],\n  doubleharmonic: ['P1', 'm2', 'M3', 'P4', 'P5', 'm6', 'M7'],\n  harmonicminor: ['P1', 'M2', 'm3', 'P4', 'P5', 'm6', 'M7'],\n  ionian: ['P1', 'M2', 'M3', 'P4', 'P5', 'M6', 'M7'],\n  locrian: ['P1', 'm2', 'm3', 'P4', 'd5', 'm6', 'm7'],\n  lydian: ['P1', 'M2', 'M3', 'A4', 'P5', 'M6', 'M7'],\n  majorpentatonic: ['P1', 'M2', 'M3', 'P5', 'M6'],\n  melodicminor: ['P1', 'M2', 'm3', 'P4', 'P5', 'M6', 'M7'],\n  minorpentatonic: ['P1', 'm3', 'P4', 'P5', 'm7'],\n  mixolydian: ['P1', 'M2', 'M3', 'P4', 'P5', 'M6', 'm7'],\n  phrygian: ['P1', 'm2', 'm3', 'P4', 'P5', 'm6', 'm7'],\n  wholetone: ['P1', 'M2', 'M3', 'A4', 'A5', 'A6']\n}\n\n// synonyms\nscales.harmonicchromatic = scales.chromatic;\nscales.minor = scales.aeolian;\nscales.major = scales.ionian;\nscales.flamenco = scales.doubleharmonic;\n\nfunction Scale(tonic, scale) {\n  if (!(this instanceof Scale)) return new Scale(tonic, scale);\n  var scaleName, i;\n  if (!('coord' in tonic)) {\n    throw new Error('Invalid Tonic');\n  }\n\n  if (typeof scale === 'string') {\n    scaleName = scale;\n    scale = scales[scale];\n    if (!scale)\n      throw new Error('Invalid Scale');\n  } else {\n    for (i in scales) {\n      if (scales.hasOwnProperty(i)) {\n        if (scales[i].toString() === scale.toString()) {\n          scaleName = i;\n          break;\n        }\n      }\n    }\n  }\n\n  this.name = scaleName;\n  this.tonic = tonic;\n  this.scale = scale;\n}\n\nScale.prototype = {\n  notes: function() {\n    var notes = [];\n\n    for (var i = 0, length = this.scale.length; i < length; i++) {\n      notes.push(this.tonic.interval(this.scale[i]));\n    }\n\n    return notes;\n  },\n\n  simple: function() {\n    return this.notes().map(function(n) { return n.toString(true); });\n  },\n\n  type: function() {\n    var length = this.scale.length - 2;\n    if (length < 8) {\n      return ['di', 'tri', 'tetra', 'penta', 'hexa', 'hepta', 'octa'][length] +\n        'tonic';\n    }\n  },\n\n  get: function(i) {\n    i = (typeof i === 'string' && i in knowledge.stepNumber) ? knowledge.stepNumber[i] : i;\n\n    return this.tonic.interval(this.scale[i - 1]);\n  },\n\n  solfege: function(index, showOctaves) {\n    if (index)\n      return this.get(index).solfege(this, showOctaves);\n\n    return this.notes().map(function(n) {\n      return n.solfege(this, showOctaves);\n    });\n  },\n\n  interval: function(interval) {\n    interval = (typeof interval === 'string') ?\n      Interval.toCoord(interval) : interval;\n    return new Scale(this.tonic.interval(interval), this.scale);\n  },\n\n  transpose: function(interval) {\n    var scale = this.interval(interval);\n    this.scale = scale.scale;\n    this.tonic = scale.tonic;\n\n    return this;\n  }\n};\n\nmodule.exports = Scale;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}